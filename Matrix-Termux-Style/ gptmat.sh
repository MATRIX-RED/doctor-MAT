#!/bin/bash

# Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø³Ù… Ø§Ù„Ø£Ø¯Ø§Ø© Ù…Ù† Ø§Ù„Ø¬Ù…Ù„Ø©
input=$(echo "$1" | tr '[:upper:]' '[:lower:]')
tool_name=$(echo "$input" | grep -oP '(?<=Ø§Ø¯Ø§Ø© )\K[^\"]+')

if [ -z "$tool_name" ]; then
  echo -e "\e[1;31m[GPTmAT] âš ï¸ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ø³Ù… Ø§Ù„Ø£Ø¯Ø§Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.\e[0m"
  echo -e "\e[1;33mÙ…Ø«Ø§Ù„: GPTmAT \"Ù‚Ù… Ø¨ ØªØªØ¨ÙŠØ« Ø§Ø¯Ø§Ø© nmap\"\e[0m"
  exit 1
fi

# Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ«Ø¨ÙŠØª
echo -e "\e[1;36m[GPTmAT] ðŸ” Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ø¯Ø§Ø©: \e[1;33m$tool_name\e[0m"
echo -e "\e[1;36m[GPTmAT] âš™ï¸ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ«Ø¨ÙŠØª Ø¹Ø¨Ø± apt...\e[0m"

sleep 1
pkg install "$tool_name" -y

# ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ø¬Ø§Ø­ Ø§Ù„ØªØ«Ø¨ÙŠØª
if [ $? -eq 0 ]; then
  echo -e "\e[1;32m[GPTmAT] âœ… ØªÙ… ØªØ«Ø¨ÙŠØª Ø§Ù„Ø£Ø¯Ø§Ø© ($tool_name) Ø¨Ù†Ø¬Ø§Ø­.\e[0m"
else
  echo -e "\e[1;31m[GPTmAT] âŒ ÙØ´Ù„ Ø§Ù„ØªØ«Ø¨ÙŠØª. Ù‚Ø¯ ØªÙƒÙˆÙ† Ø§Ù„Ø£Ø¯Ø§Ø© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø© ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹.\e[0m"
fi

